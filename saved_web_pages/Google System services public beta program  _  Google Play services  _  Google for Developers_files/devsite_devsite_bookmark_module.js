(function(_ds){var window=this;var rsa=function(a){let b='<devsite-dropdown-list ellipsis checkboxes fetchingitems="true"';a.vH&&(b=b+' writable addItemText="'+_ds.aG("New Collection"),b+='"');b=b+'><span data-label="devsite-bookmark-direct-action" data-title="'+_ds.aG("Save page");b=b+'" class="material-icons bookmark-icon bookmark-action" slot="toggle">bookmark_border</span><span data-label="devsite-bookmark-direct-action" data-title="'+_ds.aG("Unsave page");return(0,_ds.V)(b+'" hidden class="material-icons bookmark-icon unbookmark-action toggled" slot="toggle">bookmark</span></devsite-dropdown-list>')},
ssa=function(a){const b=a.isSignedIn,c=a.Jc;var d=a.hg;const e=a.Eg;var f=a.rd;const g=a.jI,h=a.yw,k=a.gw,l=a.Yl,m=a.Xl;a=a.dismissButton;let n='<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-dialog"><div class="devsite-dialog-contents">';c&&(n+='<h3 class="no-link">',n=b?n+_ds.Y(g):n+"Sign in to bookmark",n+="</h3>");f=b?c?_ds.Y(k):_ds.Y(f):_ds.Y(h);d=b?c?'<button class="button-primary create-profile">'+_ds.Y(d)+"</button>":'<button class="button-primary change-account">'+_ds.Y(m)+
"</button>":'<button class="button button-primary sign-in-button">'+_ds.Y(l)+"</button>";n+="<p>"+f+"</p>"+(b&&c?"<p>"+_ds.Y(e)+"</p>":"")+'</div><div class="devsite-dialog-buttons">'+d+'<button class="button devsite-dialog-close">'+_ds.Y(a)+"</button></div></devsite-dialog>";return(0,_ds.V)(n)},tsa=function(a){const b=a.dismissButton;a='<devsite-dialog class="devsite-bookmark-dialog" id="devsite-bookmark-error-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">Something went wrong</h3><p>'+
(_ds.Y(a.error)+'</p></div><div class="devsite-dialog-buttons"><button class="button devsite-dialog-close">'+_ds.Y(b)+"</button></div></devsite-dialog>");return(0,_ds.V)(a)},usa=function(a){const b=a.xt;a='<devsite-dialog class="devsite-bookmark-dialog devsite-receive-updates-dialog" id="devsite-receive-updates-dialog"><div class="devsite-dialog-contents"><h3 class="no-link">Receive email release notes?</h3><p>'+(_ds.Y(a.YJ)+'</p></div><div class="devsite-dialog-buttons"><button class="button-primary" id="confirm-receive-updates">');
a=a+'Yes</button><button class="button devsite-dialog-close">'+(_ds.Y(b)+"</button></div></devsite-dialog>");return(0,_ds.V)(a)};var vsa=async function(a){const b=document.body.querySelector(".devsite-page-title,.devsite-playlist-title,.devsite-quiz-title,[layout=docs] .devsite-article h1:first-of-type");let c;const d=a.parentElement&&((c=a.parentElement)==null?void 0:c.matches("devsite-feature-tooltip"));if(!b)return d?a.parentElement.remove():a.remove(),!0;if(await (await _ds.v()).hasMendelFlagAccess("Concierge","enable_actions_menu"))(a=document.body.querySelector("devsite-actions"))&&a.parentElement!==b&&b.appendChild(a);
else if(d){if(a.parentElement.previousElementSibling!==b)return b.after(a.parentElement),!0}else if(a.previousElementSibling!==b)return b.after(a),!0;return!1},wsa=async function(a){const b=await (await _ds.v()).hasMendelFlagAccess("Concierge","enable_actions_menu");if(!a.ra&&(a.oa=document.body.querySelector(".devsite-article"),!b)){let d;(d=a.oa)==null||d.setAttribute("has-bookmark","")}a.classList.add("show");let c;a.parentElement&&((c=a.parentElement)==null?0:c.matches("devsite-feature-tooltip"))&&
a.parentElement.classList.add("inline-block");_ds.K(a,rsa,{vH:!a.path});a.g=a.querySelector("devsite-dropdown-list");a.g&&(a.g.addItemDisabledTooltipText=_ds.PH)},Bsa=async function(a){a.eventHandler.listen(a,"DropdownToggled",b=>{let c;((c=b.getBrowserEvent())==null?void 0:c.detail).open&&xsa(a)});a.eventHandler.listen(a,"DropdownAddItem",b=>{ysa(a,b)});a.eventHandler.listen(a,"DropdownItemToggled",b=>{zsa(a,b)});a.eventHandler.listen(document.querySelector("devsite-collection-list")||document.body,
["devsite-collection-created","devsite-collection-deleted"],b=>{b=b.getBrowserEvent();if(b.type==="devsite-collection-created")try{const c=aO(a,b.detail);let d;(d=a.g)==null||d.listItems.splice(1,0,c);bO(a)}catch(c){}else a.g&&Asa(a,b.detail)})},Dsa=async function(a){var b=_ds.C();if(b.searchParams.get("bookmark")){var c=await _ds.HH(_ds.IH);c&&await cO(a,`profiles/${c}/collections/default`,!0);b.searchParams.delete("bookmark");_ds.Nl(b.toString(),!0,!1)}if(await (await _ds.v()).isSignedIn()&&(c=
await a.Fa(),c!=null&&c.Ba())){b=a.path||"";if(!b)try{b=await _ds.gs(_ds.C().href)}catch(e){}c=(c==null?void 0:c.Ba())||"";var d=new _ds.tt;try{const e=await d.getPath({path:b,profileId:c});if(e==null?0:e.collections)a.j=new Set([...e.collections,...a.j]);(e==null?void 0:e.saveStatus)==="SAVED"&&a.setAttribute("saved","")}catch(e){}await Csa(a)}},dO=function(a){var b;const c=(b=a.g)==null?void 0:b.querySelector(".bookmark-action");let d;b=(d=a.g)==null?void 0:d.querySelector(".unbookmark-action");
c&&b&&(a.j.size>0?(c.hidden=!0,b.hidden=!1):(c.hidden=!1,b.hidden=!0))},xsa=async function(a){var b=await (await _ds.v()).isSignedIn();let c=!0;b&&(c=await a.Jc());if(!c||!await a.Fa()){b&&c&&eO(a,"Callout Profile intro");var d=document.body.querySelector("#devsite-bookmark-dialog");d||(d=_ds.M(ssa,{isSignedIn:b,Jc:c,hg:"Create account",Eg:"Join the Google Developer Program",rd:_ds.Wf('This account is not eligible for the Google Developer Program. Please contact your administrator. <a href="https://developers.google.com/profile/help/faq#why_am_i_unable_to_create_a_profile_with_my_google_workspace_account" target="_blank">Learn more</a>.'),
jI:"Join the Google Developer Program to bookmark",yw:"You need to be signed in to save your frequently visited pages with the Google Developer Program.",gw:"Save your frequently visited pages by joining the Google Developer Program.",Yl:"Sign in",Xl:"Change account",dismissButton:"Dismiss"}),document.body.appendChild(d),(b=d.querySelector(".create-profile"))&&a.eventHandler.listen(b,"click",async()=>{d&&(d.open=!1);let e=null;try{e=await _ds.EH()}catch(f){}e&&e.Ba()&&(await _ds.IH.Fa(!0),await cO(a,
`profiles/${e.Ba()}/collections/default`,!0),await a.reset())}),(b=d.querySelector(".sign-in-button"))&&a.eventHandler.listen(b,"click",async e=>{e.preventDefault();e.stopPropagation();e=_ds.C();e.searchParams.set("bookmark","1");_ds.Nl(e.toString(),!0,!1);await (await _ds.v()).signIn()}),(b=d.querySelector(".change-account"))&&a.eventHandler.listen(b,"click",async e=>{e.preventDefault();e.stopPropagation();e=_ds.C();e.searchParams.set("bookmark","1");_ds.Nl(e.toString(),!0,!1);await (await _ds.v()).changeAccount()}),
(b=d.querySelector(".devsite-dialog-close"))&&a.eventHandler.listen(b,"click",()=>{a.toggleAttribute("saved");eO(a,"Callout Profile dismissed")}));if(a.qa=d)d.open=!0;a.g&&(a.g.lc=!1)}},ysa=async function(a,b){var c;b=(c=b.getBrowserEvent())==null?void 0:c.detail;a.g&&(a.g.fetchingItems=!0);try{var d=new _ds.uA;var e=_ds.Vi(d,2,b.title);var f=_ds.Xi(e,4,2);var g=await _ds.KH(f)}catch(l){}a.g&&(a.g.fetchingItems=!1);if(g){c=(new _ds.EC("Collection {COLLECTION_TITLE} created.")).format({COLLECTION_TITLE:g.getTitle()});
fO(a,c);a.Ha({category:"profile: saved pages",action:"collection created",label:window.location.href});g=aO(a,g);var h;(h=a.g)==null||h.listItems.push(g);var k;(k=a.g)==null||k.nc();bO(a)}else fO(a,"Something went wrong. Collection was not created.")},zsa=async function(a,b){let c;b=(c=b.getBrowserEvent())==null?void 0:c.detail;await cO(a,(b==null?void 0:b.value)||"",b.checked)},Asa=function(a,b){a.g&&(a.g.listItems=a.g.listItems.filter(c=>c.id!==b.name),a.j.delete(b.name),bO(a))},fO=function(a,b){a.dispatchEvent(new CustomEvent("devsite-show-custom-snackbar-msg",
{detail:{msg:b,linkText:void 0,href:void 0,showClose:!0},bubbles:!0,composed:!0}))},eO=function(a,b,c){b=Object.assign({},{category:"Site-Wide Custom Events",action:b,label:"Saving Widget Callout"},c||{});a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:b,bubbles:!0}))},cO=async function(a,b,c){var d=await a.Fa();if(d){c?a.j.add(b):a.j.delete(b);dO(a);var e=a.m;a.m=a.j.size>0;e!==a.m&&a.Ha({category:"Site-Wide Custom Events",action:a.m?"Saving Page to Profile":"Removing Saved Page from Profile",
label:"Saving Widget"});d=await Esa(a,d);a.Ha({category:"Site-Wide Custom Events",action:c?"Saving Page to Collection":"Removing Saved Page from Collection",label:"Saving Widget"});if(await (await _ds.v()).hasMendelFlagAccess("Profiles","enable_release_notes_notifications")&&(d==null?void 0:d.saveStatus)==="SAVED"&&await Fsa(a)){a.h=await Gsa(a);const g=new _ds.ug;a.h.addEventListener("devsite-dialog-hide",()=>{g.resolve()},{once:!0});a.h&&(a.h.open=!0);await g.promise;a.h&&(a.h.open=!1,a.h.remove(),
a.h=null)}var f;if(d=(f=a.g)==null?void 0:f.listItems.find(g=>g.id===b))d.checked=c;if(c){let g;await ((g=document.querySelector("#devsite-view-saved-pages"))==null?void 0:g.Uf())}a.dispatchEvent(new CustomEvent(c?"devsite-bookmarked-path":"devsite-unbookmarked-path",{bubbles:!0,composed:!0,detail:{collectionName:b}}))}},Gsa=async function(a){let b=document.body.querySelector("#devsite-receive-updates-dialog");b||(b=_ds.M(usa,{YJ:_ds.Wf('Would you like to stay informed and receive email updates regarding release notes for eligible products you\u2019ve saved to your Google Developer Program profile? <a href="https://developers.google.com/profile/help#what_is_a_release_note" target="_blank">Learn more</a>.'),
xt:"Cancel"}),document.body.appendChild(b));const c=new _ds.$B,d=await _ds.gs(_ds.C().href);var e=b.querySelector("#confirm-receive-updates");e&&a.eventHandler.listen(e,"click",async()=>{const f=new _ds.$A;_ds.ZA(_ds.Xi(f,38,2),_ds.Ry(new _ds.Py,"page_update_email_preference"));try{await _ds.RB(c,f),a.h&&(a.h.open=!1),a.Ha({category:"Site-Wide Custom Events",action:"Developer Profile Release Note email: accepted",label:`${d}`})}catch(g){}});(e=b.querySelector(".devsite-receive-updates-dialog .devsite-dialog-buttons .devsite-dialog-close"))&&
a.eventHandler.listen(e,"click",()=>{a.Ha({category:"Site-Wide Custom Events",action:"Developer Profile Release Note email: dismissed",label:`${d}`})});try{const f=await a.Fa();let g;await _ds.OB(c,(g=f==null?void 0:f.Ba())!=null?g:"","AckPageUpdateFeaturePopupSeen",Date.now())}catch(f){}return b},Esa=async function(a,b){if(b==null||!b.Ba())return null;let c;c=a.j.size>0?"SAVED":"UNSAVED";let d=a.path||"";if(!d)try{d=await _ds.gs(_ds.C().href)}catch(h){}const e=new _ds.tt;let f=null;const g=[];g.push(...a.j);
try{f=await e.Wq({path:d,status:c,profileId:b.Ba(),collections:g})}catch(h){eO(a,"Callout Profile error",{label:"Saving Widget Callout Error"}),b=document.body.querySelector("#devsite-bookmark-error-dialog"),b||(b=_ds.M(tsa,{error:"There was an issue saving the page.",dismissButton:"Dismiss"}),document.body.appendChild(b)),a.ma=b,a.ma&&(a.ma.open=!0),a.toggleAttribute("saved")}return f},Csa=async function(a){if(a.g){a.g.fetchingItems=!0;var b=await _ds.JH();a.g.fetchingItems=!1;b&&(b=b.map(c=>aO(a,
c)),b.sort((c,d)=>{let e;if((e=c.id)==null?0:e.endsWith("default"))return-1;let f;return((f=d.id)==null?0:f.endsWith("default"))?1:c.updatedDate>d.updatedDate?-1:1}),a.g.listItems=b,bO(a))}},aO=function(a,b){const c=b.getName()||"";let d;return{id:c,title:b.getTitle()||"",updatedDate:`${((d=_ds.vi(b,_ds.ut,5))==null?void 0:_ds.vt(d).getTime())||0}`,checked:!(!c||!a.j.has(c))}},bO=function(a){a.g&&(a.g.addItemDisabled=a.g.listItems.length>=20)},Fsa=async function(a){if(a=await a.Fa()){var b=new _ds.$B,
c;b=await _ds.NB(b,(c=a==null?void 0:a.Ba())!=null?c:"",["AckPageUpdateFeaturePopupSeen"]);var d,e;return(new Date((d=b==null?void 0:b.AckPageUpdateFeaturePopupSeen)!=null?d:0)).getTime()+5184E6<Date.now()&&(a==null?void 0:(e=_ds.Li(a,33,_ds.ti()))==null?void 0:e.includes("profile.page_update_email_preference"))}},Hsa=class extends _ds.Hj{constructor(){super(["devsite-actions","devsite-snackbar","devsite-dialog","devsite-fast-track-profile-creator"]);this.eventHandler=new _ds.E;this.h=this.ma=this.qa=
this.oa=null;this.m=!1;this.g=null;this.j=new Set;this.path=null;this.ra=!1}static get observedAttributes(){return["saved","is-inline-bookmark"]}async connectedCallback(){if(this.getAttribute("path"))this.path=this.getAttribute("path");else if(await vsa(this))return;await wsa(this);await Bsa(this);await Dsa(this);dO(this)}disconnectedCallback(){this.eventHandler.removeAll();let a;(a=this.qa)==null||a.remove();let b;(b=this.ma)==null||b.remove();let c;(c=this.h)==null||c.remove();let d;(d=this.oa)==
null||d.removeAttribute("has-bookmark")}async reset(){this.oa=null;_ds.Ek(this);this.disconnectedCallback();await this.connectedCallback()}attributeChangedCallback(a,b,c){a==="saved"?(this.m=c!==null,dO(this)):a==="is-inline-bookmark"&&(this.ra=c!==null)}async Jc(){if(!await (await _ds.v()).isSignedIn())return!1;const a=new _ds.EB;let b=null;try{b=await a.Vb()}catch(e){}let c,d;return((c=b)==null?void 0:(d=c.createProfile)==null?void 0:d.status)==="ELIGIBILITY_ELIGIBLE"}async Fa(){if(await this.Jc()){var a=
new _ds.$B;try{let b;return(b=await _ds.TB(a,new _ds.VA))==null?void 0:b.Fa()}catch(b){}}}};try{customElements.define("devsite-bookmark",Hsa)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteBookmark",a)};})(_ds_www);
